function startMove(e,t,n,r,o){var a=r.split(" "),i=a[0],u=a[1],f={};for(var s in t){if("opacity"==s)var l=100*parseInt(getStyle(e,s));else var l=parseInt(getStyle(e,s));f[s]=l}var c=(new Date).getTime();clearInterval(e.timer),e.timer=setInterval(function(){var r=(new Date).getTime(),s=r-c;s=s>=n?n:s;for(var l in t){if("opacity"==l)var d=1==a.length?Tween[i](s,f[l],100*t[l]-100*f[l],n):Tween[i][u](s,f[l],100*t[l]-100*f[l],n);else var d=1==a.length?Tween[i](s,f[l],t[l]-f[l],n):Tween[i][u](s,f[l],t[l]-f[l],n);"opacity"==l?(e.style.opacity=d/100,e.style.filter="alpha(opacity="+d+")"):e.style[l]=d+"px"}s==n&&(clearInterval(e.timer),o&&o.call(e))},20)}function getStyle(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle(e,null)[t]}function viewH(){return document.documentElement.clientHeight}function viewW(){return document.documentElement.clientWidth}function addEvent(e,t,n){e.attachEvent?e.attachEvent("on"+t,function(){n.call(e)}):e.addEventListener(t,n,!1)}function removeEvent(e,t,n){e.detachEvent?e.detachEVent("on"+t,n):e.removeEventListener(t,n)}function offsetLeftUtill(e,t){var n=0;do n+=e.offsetLeft,e=e.parentNode;while(e==t);return console.log(e,t),n}function findNearest(e,t,n){for(var r=99999,o=0,a=0,i=-1,u=0;u<n.length;u++)if(o=n[u],e!=t[o]){var f=e.offsetLeft+e.offsetWidth/2,s=e.offsetTop+e.offsetHeight/2,l=t[o].offsetLeft+t[o].offsetWidth/2,c=t[o].offsetTop+t[o].offsetHeight/2;a=Math.sqrt((f-l)*(f-l)+(s-c)*(s-c)),r>a&&(r=a,i=o)}return t[i]}function inArray(e,t){for(var n=0;n<e.length;n++)if(t==e[n])return!0;return!1}function stopBubble(e){var e=e||window.event;e&&e.stopPropagation?e.stopPropagation():e.cancelBubble()}function addClass(e,t){if(e.length&&e.length>0)for(var n=0;n<e.length;n++)addClass(e[n],t);else{var r=e&&e.getAttribute("class");r?r.match(t)||(r+=" "+t+" "):r=t,e.className=r}}function removeClass(e,t){if(e.length&&e.length>0)for(var n=0;n<e.length;n++)removeClass(e[n],t);else{var r=e.getAttribute("class");r&&r.match(t)&&(r=r.replace(t,""),e.className=r)}}function setCookies(e,t){var n=new Date;n.setTime(n.getTime()+864e5),document.cookie=e+"="+decodeURI(t)+";expires="+n.toGMTString()}function getCookies(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?decodeURIComponent(t[2]):null}function find(e,t){var n=t.substring(0,1),r=t.substring(1),o=[];switch(n){case".":return o=e.getElementsByClassName(r),o.length>0?o:null;case"#":for(o=document.getElementById(r);o.parentNode;){if(console.log(o.parentNode,e),o.parentNode==e)return o;o=o.parentNode}return null;default:return o=e.getElementsByTagName(t),o.length>0?o:null}}function parentUntill(e,t){var n=t.substring(0,1),r=t.substring(1);switch(n){case".":for(;e.parentNode;){if(e.parentNode.className==r)return e.parentNode;e=e.parentNode}return null;case"#":for(;e.parentNode;){if(e.parentNode.getAttribute("id")==r)return e.parentNode;e=e.parentNode}return null;default:for(;e.parentNode;){if(e.parentNode.tagName==t)return e.parentNode;e=e.parentNode}return null}}function removeAllChildren(e){e.innerHTML=""}var Tween={Linear:function(e,t,n,r){return n*e/r+t},Quad:{easeIn:function(e,t,n,r){return n*(e/=r)*e+t},easeOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},Cubic:{easeIn:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOut:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},Quart:{easeIn:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOut:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},Quint:{easeIn:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOut:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},Sine:{easeIn:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOut:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOut:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t}},Expo:{easeIn:function(e,t,n,r){return 0==e?t:n*Math.pow(2,10*(e/r-1))+t},easeOut:function(e,t,n,r){return e==r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeInOut:function(e,t,n,r){return 0==e?t:e==r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t}},Circ:{easeIn:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOut:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOut:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},Elastic:{easeIn:function(e,t,n,r,o,a){if(0==e)return t;if(1==(e/=r))return t+n;if(a||(a=.3*r),!o||o<Math.abs(n)){o=n;var i=a/4}else var i=a/(2*Math.PI)*Math.asin(n/o);return-(o*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-i)*Math.PI/a))+t},easeOut:function(e,t,n,r,o,a){if(0==e)return t;if(1==(e/=r))return t+n;if(a||(a=.3*r),!o||o<Math.abs(n)){o=n;var i=a/4}else var i=a/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin(2*(e*r-i)*Math.PI/a)+n+t},easeInOut:function(e,t,n,r,o,a){if(0==e)return t;if(2==(e/=r/2))return t+n;if(a||(a=.3*r*1.5),!o||o<Math.abs(n)){o=n;var i=a/4}else var i=a/(2*Math.PI)*Math.asin(n/o);return 1>e?-.5*o*Math.pow(2,10*(e-=1))*Math.sin(2*(e*r-i)*Math.PI/a)+t:o*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*r-i)*Math.PI/a)*.5+n+t}},Back:{easeIn:function(e,t,n,r,o){return void 0==o&&(o=1.70158),n*(e/=r)*e*((o+1)*e-o)+t},easeOut:function(e,t,n,r,o){return void 0==o&&(o=1.70158),n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInOut:function(e,t,n,r,o){return void 0==o&&(o=1.70158),(e/=r/2)<1?n/2*e*e*(((o*=1.525)+1)*e-o)+t:n/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+t}},Bounce:{easeIn:function(e,t,n,r){return n-Tween.Bounce.easeOut(r-e,0,n,r)+t},easeOut:function(e,t,n,r){return(e/=r)<1/2.75?7.5625*n*e*e+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOut:function(e,t,n,r){return r/2>e?.5*Tween.Bounce.easeIn(2*e,0,n,r)+t:.5*Tween.Bounce.easeOut(2*e-r,0,n,r)+.5*n+t}}},drag=function(){var e=100;return function(t,n,r,o){t.onmousedown=function(a){function i(e){var e=e||window.event,r=e.clientX-f,o=e.clientY-s;if(t.setCapture&&t.setCapture(),r<=-t.parentNode.getBoundingClientRect().left?r=-t.parentNode.getBoundingClientRect().left:r>=viewW()-t.offsetWidth-t.parentNode.getBoundingClientRect().left&&(r=viewW()-t.offsetWidth-t.parentNode.getBoundingClientRect().left),o<=-t.parentNode.getBoundingClientRect().top?o=-t.parentNode.getBoundingClientRect().top:o>=viewH()-t.offsetHeight-t.parentNode.getBoundingClientRect().top&&(o=viewH()-t.offsetHeight-t.parentNode.getBoundingClientRect().top),t.style.left=r+"px",t.style.top=o+"px",n){c=!1,d=[];for(var a=0;a<n.length;a++)if(n[a]!=t){var r=t.offsetLeft,o=t.offsetTop,i=t.offsetWidth,u=n[a].offsetHeight,l=n[a].offsetLeft,p=n[a].offsetTop,h=n[a].offsetWidth,v=n[a].offsetHeight;(l>r&&r+i>l&&p>o&&o+u>p||l+h>r&&r+i>l+h&&p>o&&o+u>p||l>r&&r+i>l&&p+v>o&&o+u>p+v||l+h>r&&r+i>l+h&&p+v>o&&o+u>p+v)&&(c=!0,inArray(d,a)||d.push(a))}}}function u(){if(c&&n){var e=findNearest(t,n,d),a={};for(var i in l[e.index])a[i]=l[e.index][i];for(var i in l[t.index])l[e.index][i]=l[t.index][i];for(var i in a)l[e.index][i]=a[i];var u=e.index;e.index=t.index,t.index=u,startMove(t,{left:l[t.index].left,top:l[t.index].top},300,"Linear"),startMove(e,{left:l[e.index].left,top:l[e.index].top},300,"Linear")}else r&&startMove(t,{left:l[t.index].left,top:l[t.index].top},300,"Linear");t.releaseCapture&&t.releaseCapture(),o&&o(),this.onmousemove=null,this.onmouseup=null}var a=a||window.event,f=a.clientX-t.offsetLeft,s=a.clientY-t.offsetTop,l=[],c=!1,d=[];if(n)for(var p=0;p<n.length;p++)n[p].index=p,l.push({left:n[p].offsetLeft,top:n[p].offsetTop});return t.style.zIndex=e++,t.setCapture?(t.setCapture(),t.onmousemove=i,t.onmouseup=u):(document.onmousemove=i,document.onmouseup=u),!1}}}(document);